(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{250:function(e,t,a){e.exports=a(487)},255:function(e,t,a){},256:function(e,t,a){},487:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(31),l=a.n(c),i=(a(255),a(256),a(20)),r=a.n(i),d=a(38),s=a(13),u=a(10),m=a(492),f=function(){var e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){r.a.get("/events/daily/").then((function(t){!function(t){for(var a=[],n=0;n<7;n++)a.push({1:0,2:0,3:0,4:0,day:e[n]});t.forEach((function(e){var t=new Date(e.date).getDay(),n=e.poi_id,o=Number(e.events);a[t][n]+=o})),a.forEach((function(e){l((function(t){return[].concat(Object(d.a)(t),[e])}))}))}(t.data)})).catch((function(e){console.log(e)}))}),[]),o.a.createElement("div",{style:{padding:"5%"}},o.a.createElement(m.a,{as:"h3",dividing:!0},"Daily Events of week: Jan 1 - 15"),o.a.createElement(u.e,{width:730,height:250,data:c,margin:{top:5,right:30,left:20,bottom:5}},o.a.createElement(u.a,{strokeDasharray:"3 3"}),o.a.createElement(u.g,{dataKey:"day"},o.a.createElement(u.b,{value:"Days of the week",offset:-10,position:"insideBottomRight"})),o.a.createElement(u.h,null,o.a.createElement(u.b,{value:"Events",offset:-20,position:"left"})),o.a.createElement(u.f,null),o.a.createElement(u.c,null),o.a.createElement(u.d,{name:"EQ Works",type:"monotone",dataKey:"1",stroke:"#8884d8"}),o.a.createElement(u.d,{name:"CN Tower",type:"monotone",dataKey:"2",stroke:"#82ca9d"}),o.a.createElement(u.d,{name:"Niagara Falls",type:"monotone",dataKey:"3",stroke:"#b41e22"}),o.a.createElement(u.d,{name:"Vancouver Harbour",type:"monotone",dataKey:"4",stroke:"#d66826"})))},y=a(493),h=a(211),p=a(494),E=a(495),g=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),i=Object(s.a)(l,2),u=i[0],m=i[1],f=Object(n.useState)({lat:43.6532,lng:-79.3832}),g=Object(s.a)(f,2),v=g[0],b=g[1],k=Object(n.useState)(12),w=Object(s.a)(k,2),O=w[0],C=(w[1],Object(n.useState)("Sunday")),j=Object(s.a)(C,2),S=j[0],W=j[1],_=window.google,M=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],T=function(e,t){if(u.length>0){var a=M.indexOf(e);return u[a][t]}},I=function(e,t){var a=t.name;W(a)},D=function(e,t){if(u.length>0){var a=M.indexOf(e);return 300*u[a][t]}};return Object(n.useEffect)((function(){r.a.get("/events/daily/").then((function(e){!function(e){for(var t=[],a=0;a<7;a++)t.push({1:0,2:0,3:0,4:0,day:M[a]});e.forEach((function(e){var a=new Date(e.date).getDay(),n=e.poi_id,o=Number(e.events);t[a][n]+=o})),t.forEach((function(e){m((function(t){return[].concat(Object(d.a)(t),[e])}))}))}(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){r.a.get("/poi").then((function(e){c(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){a.length>0&&b({lat:a[3].lat,lng:a[3].lon})}),[a]),o.a.createElement("div",null,o.a.createElement(p.a,null,o.a.createElement(p.a.Column,{width:4},o.a.createElement(y.a,{fluid:!0,vertical:!0,tabular:!0},o.a.createElement(y.a.Item,{name:"Sunday",active:"Sunday"===S,onClick:I}),o.a.createElement(y.a.Item,{name:"Monday",active:"Monday"===S,onClick:I}),o.a.createElement(y.a.Item,{name:"Tuesday",active:"Tuesday"===S,onClick:I}),o.a.createElement(y.a.Item,{name:"Wednesday",active:"Wednesday"===S,onClick:I}),o.a.createElement(y.a.Item,{name:"Thursday",active:"Thursday"===S,onClick:I}),o.a.createElement(y.a.Item,{name:"Friday",active:"Friday"===S,onClick:I}),o.a.createElement(y.a.Item,{name:"Saturday",active:"Saturday"===S,onClick:I}))),o.a.createElement(p.a.Column,{stretched:!0,width:12},o.a.createElement(E.a,null,o.a.createElement(h.GMap,{options:{center:v,zoom:O},overlays:function(){if(a.length>0)return[new _.maps.Marker({position:{lat:a[0].lat,lng:a[0].lon},title:"".concat(a[0].name," events: ").concat(T(S,a[0].poi_id))}),new _.maps.Circle({center:{lat:a[0].lat,lng:a[0].lon},fillColor:"#8884d8",fillOpacity:.35,strokeWeight:1,radius:D(S,a[0].poi_id)}),new _.maps.Marker({position:{lat:a[1].lat,lng:a[1].lon},title:"".concat(a[1].name," events: ").concat(T(S,a[1].poi_id))}),new _.maps.Circle({center:{lat:a[1].lat,lng:a[1].lon},fillColor:"#82ca9d",fillOpacity:.35,strokeWeight:1,radius:D(S,a[1].poi_id)}),new _.maps.Marker({position:{lat:a[2].lat,lng:a[2].lon},title:"".concat(a[2].name," events: ").concat(T(S,a[2].poi_id))}),new _.maps.Circle({center:{lat:a[2].lat,lng:a[2].lon},fillColor:"#b41e22",fillOpacity:.35,strokeWeight:1,radius:D(S,a[2].poi_id)}),new _.maps.Marker({position:{lat:a[3].lat,lng:a[3].lon},title:"".concat(a[3].name," events: ").concat(T(S,a[3].poi_id))}),new _.maps.Circle({center:{lat:a[3].lat,lng:a[3].lon},fillColor:"#d66826",fillOpacity:.35,strokeWeight:1,radius:D(S,a[3].poi_id)})]}(),style:{width:"100%",minHeight:"320px"},onZoomChanged:function(){}})))))};var v=function(){return o.a.createElement("div",{className:"App",style:{}},o.a.createElement(f,null),o.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(486);r.a.defaults.baseURL="https://andyzen619-eq-works-server-2.glitch.me/",l.a.render(o.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[250,1,2]]]);
//# sourceMappingURL=main.2eb3fc7a.chunk.js.map